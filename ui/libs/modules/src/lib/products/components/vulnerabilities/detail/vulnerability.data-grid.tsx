import { DataGrid, DataGridColumn, setColumnsWidthCell } from '@tauruseer/core';
import { IAffectedProducts } from '@tauruseer/module';
import {
  dependenciesTechnologiesColumnGridModel,
  dependenciesTechnologiesColumnsWidth,
} from '../../../model/vulnerabilities/vulnerabilities-data-grid.model';

import { CustomCellCollection } from './vulnerability.data-grid.columns';

interface IDependenciesTechnologiesDataProps {
  affectedProducts: IAffectedProducts[];
  height: number;
}

export const DependenciesTechnologiesDataGrid = ({
  affectedProducts,
  height,
}: IDependenciesTechnologiesDataProps) => {
  const columnsModel = setColumnsWidthCell(
    dependenciesTechnologiesColumnGridModel,
    dependenciesTechnologiesColumnsWidth,
  );
  return (
    <DataGrid
      title="Affected Products"
      data={affectedProducts}
      count
      columnModel={columnsModel as Record<DataGridColumn, any>[]}
      customCellComponents={CustomCellCollection}
      filterPlaceholder="Filter vulnerabilities"
      height={height}
      sortable={true}
    />
  );
};

export default DependenciesTechnologiesDataGrid;
